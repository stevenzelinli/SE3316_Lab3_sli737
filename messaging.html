<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Messaging Board</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>
    $(document).ready(function() {
      $("h1").text("Best Messaging Board");

      //LOADING SE3316
      $.getJSON("https://lab3-sli737-wulios.c9users.io/api/messages/SE3316", function(data) {
        data.sort(function(a, b) {
          return b.timestamp - a.timestamp;
        });
        $("#SE3316").children("li").each(function(index) {
          $(this).text(data[index].content + " : " + data[index].timestamp);
        });
      });
      //LOADING SE3352
      $.getJSON("https://lab3-sli737-wulios.c9users.io/api/messages/SE3352", function(data) {
        data.sort(function(a, b) {
          return b.timestamp - a.timestamp;
        });
        $("#SE3352").children("li").each(function(index) {
          $(this).text(data[index].content + " : " + data[index].timestamp);
        });
      });

      //SETTING REFRESH RATE OF MESSAGES
      setInterval(function() {
        //UPDATING SE3316
        $.getJSON("https://lab3-sli737-wulios.c9users.io/api/messages/SE3316", function(data) {
          data.sort(function(a, b) {
            return b.timestamp - a.timestamp;
          });
          $("#SE3316").children("li").each(function(index) {
            $(this).text(data[index].content + " : " + data[index].timestamp);
          });
        });
        //UPDATING SE3352
        $.getJSON("https://lab3-sli737-wulios.c9users.io/api/messages/SE3352", function(data) {
          data.sort(function(a, b) {
            return b.timestamp - a.timestamp;
          });
          $("#SE3352").children("li").each(function(index) {
            $(this).text(data[index].content + " : " + data[index].timestamp);
          });
        });

      }, 1000);
    });
  </script>
</head>

<body>
  <h1>
    Message Board
  </h1>
  <h2>
    SE3316
  </h2>
  <ol id="SE3316">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ol>
  <input type="text" id="3316msg" value="Message" /><button type="button">Send</button>
  <h2>
    SE3352
  </h2>
  <ol id="SE3352">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ol>
  <input type="text" id="3352msg" value="Message" /><button type="button">Send</button>
</body>

</html>